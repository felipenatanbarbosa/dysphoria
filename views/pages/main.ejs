<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Deu certo</h1>
    <% if (items) { %>
        <% for (let i = 0; i < items.length; i++) { %>
            <ul>
                <li><a href="/edit/<%= items[i].id %>">{ <%= items[i].description %>: <%= items[i].value %> }</a></li>
                <button type="button" onclick="deleteItem(<%= items[i].id %>)">Delete</button>
            </ul>
        <% } %>
    <% } %>
    <a href="/add">Add item<br></a>
    <a href="/report">Resports<br></a>
    <script>
        function deleteItem(id) {    
            if (confirm("VocÃª realmente deseja remover o item selecionado?")) {
                fetch(`/item/delete/${id}`, { method: "DELETE" })
                    .then((response) => { 
                        location.replace('/')
                    })
            }
        }
    </script>
</body>
</html>